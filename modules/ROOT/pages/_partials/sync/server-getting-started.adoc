= Getting Started

{sync-server} is a set of Node.js modules that can be used to build a custom backend {sync-service} service using GraphQL.

{sync-server} is the starting point for developing a {sync-service} application. Used with link:https://expressjs.com/[Express], this module leverages Apollo Server and provides extension points for additional features and integrations.

[source,bash]
----
npm install @aerogear/apollo-voyager-server
----

Below is a simple code example to get up and running with {sync-server}.

[source,javascript]
----
const express = require('express')
const { ApolloVoyagerServer, gql } = require('@aerogear/apollo-voyager-server')

const typeDefs = gql`
  type Query {
    hello: String
  }
`
const resolvers = {
  Query: {
    hello: (obj, args, context, info) => {
      return `Hello world`
    }
  }
}

const server = ApolloVoyagerServer({
  typeDefs,
  resolvers
})

const app = express()
server.applyMiddleware({ app })

app.listen(4000, () =>
  console.log(`ðŸš€ Server ready at http://localhost:4000/graphql`)
)
----

Copy the code into a script `index.js` and run it.

[source, bash]
----
$ node index.js
ðŸš€ Server ready at http://localhost:4000/graphql
----

Open link:http://localhost:4000/graphql[http://localhost:4000/graphql] and you will see the GraphQL Playground. This is a space where you can try out queries and see the results.

Try the following query.

[source,graphql]
----
query hello {
  hello
}
----

image::graphql-playground-hello-world.png[]


= {sync-server} Features

One of the core ideas behind {sync-server} is that features can be enabled by passing implementations from separate modules. This keeps the core {sync-server} module lightweight and decoupled from the other features such as metrics, security and audit logging. New features in the future will be delivered in the future as new modules using this same concept.

There are a set of additional {sync-server} modules supported by AeroGear.

* link:https://www.npmjs.com/package/@aerogear/voyager-keycloak[@aerogear/voyager-keycloak] - Adds authentication and authorization capabilities to {sync-server} using Keycloak. Integrates with {keycloak-service}.
* link:https://www.npmjs.com/package/@aerogear/voyager-metrics[@aerogear/voyager-metrics] - Adds Prometheus metrics to {sync-server}. Integrates with the AeroGear {metrics-service} service.
* link:https://www.npmjs.com/package/@aerogear/voyager-audit[@aerogear/voyager-audit] - Adds Audit Logging functionality to {sync-server}. Audit logs cane be consumed and visualised by the OpenShift EFK stack. (ElasticSearch + Fluentd + Kibana).
* link:https://www.npmjs.com/package/@aerogear/voyager-conflicts[@aerogear/voyager-conflicts] - Adds conflict detection and resolution capabilities to {sync-server}. Enables developers to use custom and out of the box conflict resolution policies in their {sync-server} application.

